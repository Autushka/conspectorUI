<div class="cnpAppView" layout="column" layout-align="start center" layout-fill>
	<md-sidenav class="md-sidenav-left cnpSideNav" md-component-id="leftMenu" ng-swipe-left="onCloseMenu()">
		
		<!-- add md-content for smooth rendering when opening side panel -->
		 <md-list>
		 <md-toolbar class="md-default-theme" layout="column" layout-align="center center">
			Menu
		</md-toolbar>
	<md-button ng-click="onCloseMenu()" class="md-button cnpSidebarButton cnpInputIcon cnpOpenRightSideNavIcon cnpDefaultColor">
		{{ ::'global_closeMenu' | translate }}
	</md-button>
	<md-subheader class="md-no-sticky">
		{{ ::'global_dataSubheader' | translate }}
	</md-subheader>
	<div ng-repeat="sideMenuItem in aSideMenuItems">
		<md-button ng-click="onSideMenuItemClicked(sideMenuItem, $event)" class="md-button cnpSidebarButton cnpInputIcon cnpDefaultColor">
			{{ ::sideMenuItem.sTitle | translate }}
		</md-button>
		<md-divider md-inset ng-if="!$last"></md-divider>
	</div>
	<md-subheader class="md-no-sticky">
		{{ ::'global_settingsSubheader' | translate}}
	</md-subheader>
	<md-button ng-if="bDisplayProfileSettings" ng-click="onProfileSettings()" class="md-button cnpSidebarButton cnpInputIcon  cnpDefaultColor">
		{{ ::'profileSettings_profileDetails' | translate }}
	</md-button>
	<md-divider ng-if="bDisplaySwitchCompanies" md-inset></md-divider>
	<md-button ng-if="bDisplaySwitchCompanies" ng-click="onSwitchCompanies()" class="md-button cnpSidebarButton cnpInputIcon  cnpDefaultColor">
		{{ ::'app_switchCompanies' | translate}}
	</md-button>
	<md-divider ng-if="bDisplaySwitchRoles" md-inset></md-divider>
	<md-button ng-if="bDisplaySwitchRoles" ng-click="onSwitchRoles()" class="md-button cnpSidebarButton cnpInputIcon  cnpDefaultColor">
		{{ ::'app_switchRoles' | translate}}	
	</md-button>
	<md-divider ng-if="bDisplayAdminPanel" md-inset></md-divider>
	<md-button ng-if="bDisplayAdminPanel" ng-click="onAdminPanel()" class="md-button cnpSidebarButton cnpInputIcon  cnpDefaultColor">
		{{ ::'app_adminPanel' | translate}}
	</md-button>
	<md-divider md-inset></md-divider>
	<md-button ng-click="onLogOut()" class="md-button cnpSidebarButton cnpInputIcon cnpDefaultColor">
		{{ ::'app_logOut' | translate }}
	</md-button>
	<md-subheader class="md-no-sticky">
		{{ ::'global_language' | translate}}
	</md-subheader>
	<md-button ng-click="onChangeLanguage()" class="md-button cnpSidebarButton cnpInputIcon  cnpDefaultColor">
		{{ 'signIn_languageCode' | translate }}
	</md-button>
	 </md-list>
		
	</md-sidenav>
		<md-toolbar md-scroll-shrink style="z-index: 5;box-shadow: 0 2px 5px 0 rgba(0,0,0,0.26);">
			<div id="top" class="cnpHeader" layout="row"  layout-align="space-between center">
				<div layout="row" layout-align="start center">
					<div ng-click="onOpenMenu()" class="cnpInputIcon cnpMenuIcon notSelectable">
					</div>
					<img  class="cnpCompanyLogo" ng-src="{{$root.sLogoUrl}}"/>
					<!-- ng if might cause issues... -->
					<div
						class="cnpMultiSelectProjectsAndPhases"
						multi-select
						input-model="globalProjectsWithPhases"
						default-label="<cnpMultiSelectProjectsAndPhasesDefaultLabel>{{::'global_selectedProjectsAndPhases' | translate }}</cnpMultiSelectProjectsAndPhasesDefaultLabel>"
						button-label="fullName"
						item-label="name"
						tick-property="ticked"
						group-property="multiSelectGroup"
						on-close="onGlobalUserPhasesChanged()"
						max-labels="2"
						directive-id="multiSelectFull"
						ng-if="!bMobileMode"  >
					</div>
				</div>
				<div layout="row" layout-align="end center">
					<div ng-click="onOpenNotificationsMenu()" class="cnpInputIcon cnpNotificationsIcon notSelectable" style="position: relative;
						margin-left: 11px;
						height: 35px;
						width: 35px;
						cursor: pointer;margin-right: 22px;">
						<!-- {{'notificationsList_title' | translate}} -->
						<div ng-show="$root.iNotificationsNumber > 0" layout="row" layout-align="center center" class="cnpNotificationsCounter">
							{{$root.iNotificationsNumber}}
						</div>
					</div>
					<dr-avatar id="dirAvatar1" ng-if="bDisplayProfileSettings && !bMobileMode" ng-click="onProfileSettings()" user="oUserProfile" size="medium">
					</dr-avatar>
				</div>
			</div>
		</md-toolbar>
	<!-- for mobile -->
<!-- 	<md-content layout-fill class="cnpAppViewContentMobile">
		<div ui-view> </div>
	</md-content> -->
<!-- 		<div ui-view class="cnpAppViewContentMobile">
	</div> -->

<!-- 	<md-content ui-view layout-fill class="cnpAppViewContentMobile">
	</md-content> -->

	<!-- for webapp -->
<md-tabs class="cnpNavBar" md-selected="selectedTabIndex" md-stretch-tabs='auto' md-theme="conspectorColorPaletteNavbar">
<md-tab ng-repeat="tab in aTabs" md-on-select="onTabSelect(tab)" label="{{::tab.sTitle | translate}}">
</md-tab>
</md-tabs>
<div ui-view class="cnpAppViewContent" ng-if="!bMobileMode">
</div>

	<md-sidenav class="md-sidenav-right cnpSideNav" md-component-id="globalRight" ng-swipe-right="onCloseNotificationsMenu()">
	<md-list>
	<md-toolbar class="md-default-theme" layout="column" layout-align="center center">
	{{::'notificationsList_title' | translate}}
	</md-toolbar>
	<!-- <md-subheader class="md-no-sticky">3 line item
	</md-subheader> -->
	<div layout="row" layout-align="start center">
		<md-button class="md-button cnpSidebarButton cnpSidebarButtonCenter" ng-click="onMarkAllAsRead()" style="  border-right: 1px rgba(0,0,0,0.12) solid; min-height: 60px;">
			{{::'global_markAllAsRead' | translate}}
		</md-button>
		<md-button class="md-button cnpSidebarButton cnpSidebarButtonCenter" ng-click="onDismissAll()" style="min-height: 60px;">
			{{::'global_dismissAll' | translate}}
		</md-button>
		</div>
		<md-divider></md-divider>
		<md-list-item class="" ng-repeat="notification in aNotifications" >
			<div ng-class="{'cnpNotification': notification.Status === 'not read', 'cnpNotification cnpNotificationRead': notification.Status === 'read'}" ng-click="onDisplay(notification, $event)">
				<div layout="row" layout-align="start center">
				<dr-avatar id="dirAvatar2" user="::notification.ContactDetails.UserDetails.results[0]" size="small"></dr-avatar>
					<div class="cnpNgTableNotificationText">
						{{::notification.GeneralAttributes.CreatedBy}} <span>{{ notification.OperationNameEN | translate}}</span>
					</div>
				</div>
				<div class="cnpNgTableCommentCreationDate" layout="row" layout-align="space-between center">
				<!-- {{::notification.CreatedAt |  date:'short'}} -->
				<dr-date dr-raw-date='{{::notification.CreatedAt}}' dr-format="medium"></dr-date>
				<div>
					{{::notification.PhaseDetails.ProjectDetails.NameEN}} - {{::notification.PhaseDetails.NameEN}}
				</div>
				</div>
			</div>
			<md-divider></md-divider>
			<!-- <md-divider ng-if="!$last"></md-divider> -->
		</md-list-item>
		<md-button type="submit" class="md-button cnpSidebarButton cnpSidebarButtonCenter cnpDefaultColor" ng-click="onShowMore()">
			{{iTotalNotificationsNumber - iDisplayedNotificationsNumber}} more
		</md-button>
	</md-list>
	</md-sidenav>
</div>